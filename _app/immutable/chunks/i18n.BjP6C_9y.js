import{a5 as W,as as de,at as ge,aj as E,au as _e,U as b,ab as w,av as N,i as x,w as Y,aw as ve,V as he,q as me,O as z,D as pe,P as we,ac as ye,ad as Te,C as be,B as G,ae as X,N as Z,a1 as Q,E as xe,a0 as Se,ax as Ee,ay as Le,az as Pe,aA as Re,e as V,aB as Ie,aC as Oe,o as J,aD as $e,aE as De,aF as Ae,k as ee,aG as Be,v as Ne,aH as je,aI as Ce,S as Fe}from"./runtime.B76QcaoX.js";import{c as We,p as ze}from"./stores.DD4NZ-sR.js";import"./disclose-version.B1dCEW7r.js";import{b as A,g as Me}from"./entry.Bu8MFjbm.js";function O(e,n=null,r){if(typeof e!="object"||e===null||W in e)return e;const u=he(e);if(u!==de&&u!==ge)return e;var i=new Map,f=me(e),c=E(0);f&&i.set("length",E(e.length));var l;return new Proxy(e,{defineProperty(t,a,s){(!("value"in s)||s.configurable===!1||s.enumerable===!1||s.writable===!1)&&_e();var o=i.get(a);return o===void 0?(o=E(s.value),i.set(a,o)):b(o,O(s.value,l)),!0},deleteProperty(t,a){var s=i.get(a);if(s===void 0)a in t&&i.set(a,E(w));else{if(f&&typeof a=="string"){var o=i.get("length"),d=Number(a);Number.isInteger(d)&&d<o.v&&b(o,d)}b(s,w),te(c)}return!0},get(t,a,s){var m;if(a===W)return e;var o=i.get(a),d=a in t;if(o===void 0&&(!d||(m=N(t,a))!=null&&m.writable)&&(o=E(O(d?t[a]:w,l)),i.set(a,o)),o!==void 0){var g=x(o);return g===w?void 0:g}return Reflect.get(t,a,s)},getOwnPropertyDescriptor(t,a){var s=Reflect.getOwnPropertyDescriptor(t,a);if(s&&"value"in s){var o=i.get(a);o&&(s.value=x(o))}else if(s===void 0){var d=i.get(a),g=d==null?void 0:d.v;if(d!==void 0&&g!==w)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return s},has(t,a){var g;if(a===W)return!0;var s=i.get(a),o=s!==void 0&&s.v!==w||Reflect.has(t,a);if(s!==void 0||Y!==null&&(!o||(g=N(t,a))!=null&&g.writable)){s===void 0&&(s=E(o?O(t[a],l):w),i.set(a,s));var d=x(s);if(d===w)return!1}return o},set(t,a,s,o){var T;var d=i.get(a),g=a in t;if(f&&a==="length")for(var m=s;m<d.v;m+=1){var _=i.get(m+"");_!==void 0?b(_,w):m in t&&(_=E(w),i.set(m+"",_))}d===void 0?(!g||(T=N(t,a))!=null&&T.writable)&&(d=E(void 0),b(d,O(s,l)),i.set(a,d)):(g=d.v!==w,b(d,O(s,l)));var v=Reflect.getOwnPropertyDescriptor(t,a);if(v!=null&&v.set&&v.set.call(o,s),!g){if(f&&typeof a=="string"){var p=i.get("length"),S=Number(a);Number.isInteger(S)&&S>=p.v&&b(p,S+1)}te(c)}return!0},ownKeys(t){x(c);var a=Reflect.ownKeys(t).filter(d=>{var g=i.get(d);return g===void 0||g.v!==w});for(var[s,o]of i)o.v!==w&&!(s in t)&&a.push(s);return a},setPrototypeOf(){ve()}})}function te(e,n=1){b(e,e.v+n)}function wt(e,n,r,u=null,i=!1){z&&pe();var f=e,c=null,l=null,t=null,a=i?Se:0;we(()=>{if(t===(t=!!n()))return;let s=!1;if(z){const o=f.data===ye;t===o&&(f=Te(),be(f),G(!1),s=!0)}t?(c?X(c):c=Z(()=>r(f)),l&&Q(l,()=>{l=null})):(l?X(l):u&&(l=Z(()=>u(f))),c&&Q(c,()=>{c=null})),s&&G(!0)},a),z&&(f=xe)}function ne(e){for(var n=Y,r=Y;n!==null&&!(n.f&(Ie|Oe));)n=n.parent;try{return J(n),e()}finally{J(r)}}function yt(e,n,r,u){var $;var i=(r&$e)!==0,f=(r&De)!==0,c=(r&Ae)!==0,l=(r&Ce)!==0,t=!1,a;c?[a,t]=We(()=>e[n]):a=e[n];var s=($=N(e,n))==null?void 0:$.set,o=u,d=!0,g=!1,m=()=>(g=!0,d&&(d=!1,l?o=V(u):o=u),o);a===void 0&&u!==void 0&&(s&&f&&Ee(),a=m(),s&&s(a));var _;if(f)_=()=>{var h=e[n];return h===void 0?m():(d=!0,g=!1,h)};else{var v=ne(()=>(i?ee:Be)(()=>e[n]));v.f|=Le,_=()=>{var h=x(v);return h!==void 0&&(o=void 0),h===void 0?o:h}}if(!(r&Pe))return _;if(s){var p=e.$$legacy;return function(h,I){return arguments.length>0?((!f||!I||p||t)&&s(I?_():h),h):_()}}var S=!1,T=!1,P=Fe(a),R=ne(()=>ee(()=>{var h=_(),I=x(P),D=Ne;return S||h===void 0&&D.f&je?(S=!1,T=!0,I):(T=!1,P.v=h)}));return i||(R.equals=Re),function(h,I){if(arguments.length>0){const D=I?x(R):f&&c?O(h):h;return R.equals(D)||(S=!0,b(P,D),g&&o!==void 0&&(o=D),V(()=>x(R))),h}return x(R)}}let H;const se="en",oe=["en"];let j=()=>se;const Ue=e=>{typeof e=="function"?j=re(e):j=re(()=>e),H!==void 0&&H(j())};function re(e){return()=>{const n=e();if(!ue(n))throw new Error("languageTag() didn't return a valid language tag. Check your setLanguageTag call");return n}}const ke=e=>{H=e};function ue(e){return oe.includes(e)}const qe=Object.freeze(Object.defineProperty({__proto__:null,availableLanguageTags:oe,isAvailableLanguageTag:ue,get languageTag(){return j},onSetLanguageTag:ke,setLanguageTag:Ue,sourceLanguageTag:se},Symbol.toStringTag,{value:"Module"}));function Ye(e,n){if(e==="")return"";const r=new URL(e,n).pathname;return r.endsWith("/")?r.slice(0,-1):r}function C(e,n){const r=Ge(e),u=He(r,n),[i,f]=Ke(u);return[i,f]}const K=(e,n,r)=>[n,e,r??""].filter(u=>u!=="/").join("")||"/";function He(e,n){const r=e.replace(n,"");return r.startsWith("/")?r:`/${r}`}function Ke(e){const r=["/.html__data.json","/__data.json"].find(u=>e.endsWith(u));return r?[e.slice(0,-r.length)||"/",r]:[e,void 0]}function Ge(e){try{return decodeURI(e)}catch{return e}}const Xe=e=>({url:n})=>{try{const[r,u]=C(n.pathname,A),i=e.getLanguageFromLocalisedPath(r);if(!i)return n.pathname;const f=e.getCanonicalPath(r,i);return K(f,A,u)}catch{return n.pathname}};function Ze(e){return`/${e.split("/").filter(Boolean).join("/")}`}function Qe(e){const n=e.map(r=>typeof r=="string"?u=>u===r:u=>r.test(u));return r=>n.some(u=>u(Ze(r)))}const B="rtl",M="ltr";function Ve(e){try{const n=new Intl.Locale(e);return"textInfo"in n?n.textInfo.direction===B?B:M:n.getTextInfo().direction===B?B:M}catch{return M}}function Je(e){const n=e.map(r=>[r,Ve(r)]);return Object.fromEntries(n)}const et=0,ae=1,F=2,tt=4,y=0,L=1,U=2;function nt(e){const n=rt(at);return e.sort((r,u)=>{var i,f,c,l,t,a;const s=ie(r).map(n),o=ie(u).map(n);for(let d=0;d<Math.max(s.length,o.length);d+=1){const g=s[d],m=o[d];if(!g)return-1;if(!m)return 1;for(let _=0;_<Math.max(g.length,m.length);_+=1){const v=g[_],p=m[_];if((v==null?void 0:v[y])||(p==null?void 0:p[y])){if(!v)return-1;if(!p)return 1;const T=((i=g[_+1])==null?void 0:i[L])||((c=(f=s[d+1])==null?void 0:f[0])==null?void 0:c[L]),P=((l=m[_+1])==null?void 0:l[L])||((a=(t=o[d+1])==null?void 0:t[0])==null?void 0:a[L]),R=T&&P,$=T&&!P,h=!T&&P;if((v[y]&&p[y])===F){if(R)continue;if($)return-1;if(h)return 1}if(v[y]===F)return $?-1:1;if(p[y]===F)return h?1:-1;if(v[U]!==p[U])return(-1)**+v[U];if(v[y]!==p[y])return(-1)**+(v[y]>p[y])}else if((v==null?void 0:v[L])!==(p==null?void 0:p[L]))return it(v[L],p[L])}}return r<u?1:-1})}function rt(e){const n=new Map;return r=>(n.has(r)||n.set(r,e(r)),n.get(r))}function at(e){const n=[];let r=0;for(;r<=e.length;){const u=e.indexOf("[",r),i=u===-1;if(n.push([et,e.slice(r,i?void 0:u),!1]),i)break;const f=e[u+1]==="["?ae:e[u+1]==="."?F:tt,c=f===ae?"]]":"]",l=e.indexOf(c,u);if(l===-1)throw new Error(`Invalid route definition ${e}`);const t=e.slice(u,r=l+c.length);n.push([f,t,t.includes("=")])}return n}const ie=e=>e.replace(/\[\[[^\]]+\]\](?!$)/g,"").split("/").filter(Boolean);function it(e,n){if(e===n)return 0;let r=0;for(;e[r]===n[r];)r++;return e[r]?n[r]?e[r]<n[r]?-1:1:-1:1}const st=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function ot(e){const n=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${le(e).map(u=>{const i=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(u);if(i)return n.push({name:i[1],matcher:i[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const f=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(u);if(f)return n.push({name:f[1],matcher:f[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!u)return;const c=u.split(/\[(.+?)\](?!\])/);return"/"+c.map((t,a)=>{if(a%2){if(t.startsWith("x+"))return k(String.fromCharCode(parseInt(t.slice(2),16)));if(t.startsWith("u+"))return k(String.fromCharCode(...t.slice(2).split("-").map(_=>parseInt(_,16))));const s=st.exec(t);if(!s)throw new Error(`Invalid param: ${t}`);const[,o,d,g,m]=s;return n.push({name:g,matcher:m,optional:!!o,rest:!!d,chained:d?a===1&&c[0]==="":!1}),d?"(.*?)":o?"([^/]*)?":"([^/]+?)"}return k(t)}).join("")}).join("")}/?$`),params:n}}function ut(e,n,r){const u={},i=e.slice(1),f=i.filter(l=>l!==void 0);let c=0;for(const[l,t]of n.entries()){let a=i[l-c];if(t.chained&&t.rest&&c&&(a=i.slice(l-c,l+1).filter(o=>o).join("/"),c=0),a===void 0){t.rest&&(u[t.name]="");continue}if(t.matcher&&!r[t.matcher])return;if((r[t.matcher]??(()=>!0))(a)){u[t.name]=a;const o=n[l+1],d=i[l+1];o&&!o.rest&&o.optional&&d&&t.chained&&(c=0),!o&&!d&&Object.keys(u).length===f.length&&(c=0);continue}if(t.optional&&t.chained){c++;continue}return}if(!c)return u}function k(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}const ft=/\[(\[)?(\.\.\.)?(\w+?)(?:=(\w+))?\]\]?/g;function fe(e,n){return"/"+le(e).map(r=>r.replace(ft,(u,i,f,c)=>{const l=n[c];if(!l){if(i||f&&l!==void 0)return"";throw new Error(`Missing parameter '${c}' in route ${e}`)}if(l[0]=="/"||l.endsWith("/"))throw new Error(`Parameter '${c}' in route ${e} cannot start or end with a slash`);return l})).filter(Boolean).join("/")}function ce(e,n,r){const u=nt(n);for(const i of u){const f=ot(i),c=f.pattern.exec(ct(e));if(!c)continue;const l=ut(c,f.params,r);if(l)return{params:l,id:i}}}const ct=e=>e.endsWith("/")?e.slice(0,-1):e,le=e=>e.slice(1).split("/");function lt(e,n,r,u,i){function f(t){const s=t.split("/")[1];if(e.includes(s)&&(i==="always"||s!==n))return s;if(i==="never")return n}function c(t,a){const s=t.endsWith("/")&&t!=="/";t=s?t.slice(0,-1):t;let o=gt(t,a,r,u);return s&&(o+="/"),(i==="always"||a!==n)&&(o=`/${a}${o}`),o}function l(t,a){const s=t.endsWith("/")&&t!=="/";(i==="always"||a!==n)&&(t=t.replace(`/${a}`,"")||"/");const o=s;t=o?t.slice(0,-1):t;let d=dt(t,a,r,u);return o&&(d+="/"),d}return{getLanguageFromLocalisedPath:f,getLocalisedPath:c,getCanonicalPath:l}}function dt(e,n,r,u){for(const[i,f]of Object.entries(r)){if(!(n in f))continue;const c=f[n];if(!c)continue;const l=ce(e,[c],u);if(l)return fe(i,l.params)}return e}function gt(e,n,r,u){const i=ce(e,Object.keys(r),u);if(!i)return e;const f=r[i.id];if(!f)return e;const c=f[n];return c?fe(c,i.params):e}function _t(e,n){const r={},u=[],i=e.sourceLanguageTag,f={defaultLanguageTag:i,runtime:e,translations:r,matchers:{},exclude:Qe(u),prefixDefaultLanguage:"never",textDirection:Je(e.availableLanguageTags),seo:{noAlternateLinks:!1}},c=lt(e.availableLanguageTags,i,f.translations,f.matchers,f.prefixDefaultLanguage);return Object.freeze(r),Object.freeze(f),{config:f,strategy:c,reroute:()=>Xe(c),handle:()=>{throw new Error("")},getLanguageFromUrl(l){const t=q(A),[a]=C(l.pathname,t);return f.exclude(a)?f.defaultLanguageTag:c.getLanguageFromLocalisedPath(a)||f.defaultLanguageTag},resolveRoute(l,t=void 0){if(f.exclude(l))return l;const a=q(A),[s,o]=C(l,a);if(t=t??e.languageTag(),!l.startsWith(a))return l;const d=c.getLocalisedPath(s,t);return K(d,a,o)},route(l){const t=q(A),[a,s]=C(l,t),d=c.getLanguageFromLocalisedPath(a)||f.defaultLanguageTag,g=c.getCanonicalPath(a,d);return K(g,t,s)}}}function q(e){return e===""?"":e.startsWith("/")?e:Ye(e,new URL(Me(ze).url))}const Tt=_t(qe);export{wt as a,O as b,C as c,Tt as i,Ye as n,yt as p,K as s};
